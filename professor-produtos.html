<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>➕ Cadastrar Produto</title>
<link rel="stylesheet" href="style.css"/>
<script type="module">
  import { db } from "./firebase.js";
  import { collection, addDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  let usuarioId = localStorage.getItem("usuarioId");
  if (!usuarioId) window.location.href = "index.html";

  document.getElementById("produtoForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const nome = document.getElementById("nomeProduto").value.trim();
    const preco = parseInt(document.getElementById("precoProduto").value) || 0;
    const emoji = document.getElementById("emojiProduto").value;

    if (!nome) {
      alert("❌ Digite o nome do produto!");
      return;
    }

    await addDoc(collection(db, "produtos"), { nome, preco, emoji });
    alert("✅ Produto cadastrado com sucesso!");
    e.target.reset();
  });
</script>
</head>
<body>
  <header><h1>➕ Cadastro de Produtos</h1></header>
  <main>
    <form id="produtoForm" class="card">
      <label>Nome do Produto:</label>
      <input type="text" id="nomeProduto" required>

      <label>Preço:</label>
      <input type="number" id="precoProduto" value="0" required>

      <label>Emoji:</label>
      <select id="emojiProduto">
        <option value="📚">📚 Livro</option>
        <option value="✏️">✏️ Lápis</option>
        <option value="🖍️">🖍️ Giz de cera</option>
        <option value="🖊️">🖊️ Caneta</option>
        <option value="📏">📏 Régua</option>
        <option value="🎨">🎨 Tintas</option>
        <option value="📝">📝 Caderno</option>
        <option value="📎">📎 Clipes</option>
        <option value="🎒">🎒 Mochila</option>
      </select>

      <button type="submit">Cadastrar Produto</button>
    </form>

    <div style="text-align:center; margin-top:1rem;">
      <button onclick="window.location.href='professor.html'">⬅️ Voltar ao Painel</button>
    </div>
  </main>
</body>
</html>
