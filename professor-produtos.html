<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>â• Cadastrar Produto</title>
<link rel="stylesheet" href="style.css"/>
<script type="module">
  import { db } from "./firebase.js";
  import { collection, addDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  let usuarioId = localStorage.getItem("usuarioId");
  if (!usuarioId) window.location.href = "index.html";

  document.getElementById("produtoForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const nome = document.getElementById("nomeProduto").value.trim();
    const preco = parseInt(document.getElementById("precoProduto").value) || 0;
    const emoji = document.getElementById("emojiProduto").value;

    if (!nome) {
      alert("âŒ Digite o nome do produto!");
      return;
    }

    await addDoc(collection(db, "produtos"), { nome, preco, emoji });
    alert("âœ… Produto cadastrado com sucesso!");
    e.target.reset();
  });
</script>
</head>
<body>
  <header><h1>â• Cadastro de Produtos</h1></header>
  <main>
    <form id="produtoForm" class="card">
      <label>Nome do Produto:</label>
      <input type="text" id="nomeProduto" required>

      <label>PreÃ§o:</label>
      <input type="number" id="precoProduto" value="0" required>

      <label>Emoji:</label>
      <select id="emojiProduto">
        <option value="ğŸ“š">ğŸ“š Livro</option>
        <option value="âœï¸">âœï¸ LÃ¡pis</option>
        <option value="ğŸ–ï¸">ğŸ–ï¸ Giz de cera</option>
        <option value="ğŸ–Šï¸">ğŸ–Šï¸ Caneta</option>
        <option value="ğŸ“">ğŸ“ RÃ©gua</option>
        <option value="ğŸ¨">ğŸ¨ Tintas</option>
        <option value="ğŸ“">ğŸ“ Caderno</option>
        <option value="ğŸ“">ğŸ“ Clipes</option>
        <option value="ğŸ’">ğŸ’ Mochila</option>
      </select>

      <button type="submit">Cadastrar Produto</button>
    </form>

    <div style="text-align:center; margin-top:1rem;">
      <button onclick="window.location.href='professor.html'">â¬…ï¸ Voltar ao Painel</button>
    </div>
  </main>
</body>
</html>
